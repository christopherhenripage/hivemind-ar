<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Queen Freret XIV — Shannon E Thomas | Charity Gallery</title>
  <meta name="description" content="8 original paintings by Shannon E Thomas benefiting Son of a Saint. View in AR and place your bid before February 17, 2026.">
  <meta name="keywords" content="Shannon E Thomas, Queen Freret XIV, Son of a Saint, charity auction, AR art gallery, New Orleans art">
  <link rel="canonical" href="https://hivemindar.com/charity/shannon-thomas">

  <!-- Open Graph -->
  <meta property="og:title" content="Queen Freret XIV — Shannon E Thomas">
  <meta property="og:description" content="8 original paintings benefiting Son of a Saint. View in AR and place your bid.">
  <meta property="og:image" content="https://hivemindar.com/images/charity/shannon-thomas/clair.jpg">
  <meta property="og:url" content="https://hivemindar.com/charity/shannon-thomas">
  <meta property="og:type" content="website">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Queen Freret XIV — Shannon E Thomas">
  <meta name="twitter:description" content="8 original paintings benefiting Son of a Saint. View in AR and place your bid.">
  <meta name="twitter:image" content="https://hivemindar.com/images/charity/shannon-thomas/clair.jpg">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">

  <link rel="stylesheet" href="/styles/hivemind.css">

  <!-- Model-Viewer for AR -->
  <script type="module" src="https://cdn.jsdelivr.net/npm/@google/model-viewer@3.3.0/dist/model-viewer.min.js"></script>
  <script type="module">
    if (!customElements.get('model-viewer')) {
      const script = document.createElement('script');
      script.type = 'module';
      script.src = 'https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js';
      document.head.appendChild(script);
    }
  </script>

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ItemList",
    "name": "Queen Freret XIV — A Collection by Shannon E Thomas",
    "description": "8 original paintings benefiting Son of a Saint",
    "numberOfItems": 8,
    "itemListElement": [
      {
        "@type": "VisualArtwork",
        "position": 1,
        "name": "Clair",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 2,
        "name": "Fleur",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 3,
        "name": "Koda",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 4,
        "name": "Lane",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 5,
        "name": "Lilac",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 6,
        "name": "Revel",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 7,
        "name": "Roux",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      },
      {
        "@type": "VisualArtwork",
        "position": 8,
        "name": "Vesper",
        "artist": { "@type": "Person", "name": "Shannon E Thomas" },
        "artMedium": "Hand-painted on canvas",
        "width": { "@type": "Distance", "name": "28 inches" },
        "height": { "@type": "Distance", "name": "38 inches" }
      }
    ]
  }
  </script>

  <style>
    /* Hero Section */
    .charity-hero {
      background: #000;
      padding: 6rem 2rem 4rem;
      text-align: center;
      color: #fff;
      position: relative;
      overflow: hidden;
    }

    .charity-hero-logo-bg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 550px;
      height: 550px;
      pointer-events: none;
      z-index: 0;
    }

    .charity-hero-logo-bg img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: hue-rotate(270deg)
              saturate(1.3)
              drop-shadow(0 0 20px rgba(180, 100, 255, 0.9))
              drop-shadow(0 0 40px rgba(140, 70, 200, 0.7))
              drop-shadow(0 0 80px rgba(120, 60, 180, 0.5))
              drop-shadow(0 0 120px rgba(100, 50, 150, 0.3))
              drop-shadow(0 0 200px rgba(80, 40, 120, 0.2));
      clip-path: inset(23% 0 0 0);
      mix-blend-mode: lighten;
      animation: charityLogoGlow 5s ease-in-out infinite;
    }

    @keyframes charityLogoGlow {
      0%, 100% {
        opacity: 0.2;
        filter: hue-rotate(270deg)
                saturate(1.2)
                drop-shadow(0 0 20px rgba(180, 100, 255, 0.8))
                drop-shadow(0 0 40px rgba(140, 70, 200, 0.6))
                drop-shadow(0 0 80px rgba(120, 60, 180, 0.4))
                drop-shadow(0 0 120px rgba(100, 50, 150, 0.2))
                drop-shadow(0 0 200px rgba(80, 40, 120, 0.1));
      }
      50% {
        opacity: 0.85;
        filter: hue-rotate(270deg)
                saturate(1.5)
                drop-shadow(0 0 30px rgba(200, 120, 255, 1))
                drop-shadow(0 0 60px rgba(170, 100, 255, 0.9))
                drop-shadow(0 0 100px rgba(140, 70, 200, 0.7))
                drop-shadow(0 0 160px rgba(120, 60, 180, 0.5))
                drop-shadow(0 0 250px rgba(100, 50, 150, 0.3));
      }
    }

    .charity-hero-content {
      position: relative;
      z-index: 1;
    }

    .charity-hero h1 {
      font-size: 3rem;
      margin: 0 0 0.5rem;
      font-weight: 700;
      letter-spacing: 0.02em;
    }

    .charity-hero .subtitle {
      font-size: 1.25rem;
      opacity: 0.8;
      margin: 0 0 1rem;
      font-weight: 300;
    }

    .charity-hero .charity-line {
      font-size: 1rem;
      opacity: 0.7;
      margin: 0 0 0.75rem;
    }

    .charity-hero .hero-ar-note {
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.7);
      max-width: 480px;
      margin: 0 auto 2rem;
      line-height: 1.6;
    }

    .charity-hero .btn-auction {
      display: inline-block;
      padding: 0.875rem 2rem;
      background: linear-gradient(135deg, #803cb4 0%, #6a2c9a 100%);
      color: #fff;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 1rem;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .charity-hero .btn-auction:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(128, 60, 180, 0.4);
    }

    /* Artwork Grid */
    .gallery-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }

    .artwork-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 2rem;
    }

    .artwork-card {
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: transform 0.3s, box-shadow 0.3s;
      display: flex;
      flex-direction: column;
    }

    .artwork-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
    }

    .artwork-card-wrapper {
      position: relative;
      width: 100%;
      background: #f5f5f5;
    }

    .artwork-card-wrapper model-viewer {
      width: 100%;
      height: 400px;
      display: block;
      --poster-color: transparent;
    }

    /* Frame Selector - Compact inline */
    .frame-selector-compact {
      position: absolute;
      bottom: 70px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 0.5rem;
      display: flex;
      gap: 0.5rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      z-index: 5;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s, bottom 0.3s;
    }

    .artwork-card-wrapper:hover .frame-selector-compact {
      opacity: 1;
      pointer-events: all;
      bottom: 75px;
    }

    .frame-btn {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      border: 3px solid transparent;
      cursor: pointer;
      background: #f5f5f5;
      position: relative;
      transition: border-color 0.2s, transform 0.2s;
      padding: 0;
      font-size: 0;
      color: transparent;
      overflow: hidden;
    }

    .frame-btn:hover {
      transform: scale(1.1);
    }

    .frame-btn.selected {
      border-color: #803cb4;
      box-shadow: 0 0 0 2px rgba(128, 60, 180, 0.3);
    }

    .frame-btn::before {
      content: '';
      position: absolute;
      top: 4px;
      left: 4px;
      right: 4px;
      bottom: 4px;
      border-radius: 3px;
    }

    .frame-btn.no-frame::before { border: 2px dashed #ccc; background: white; }
    .frame-btn.wood-frame::before { border: 4px solid #8B4513; background: #A0522D; }
    .frame-btn.black-frame::before { border: 4px solid #1a1a1a; background: #333; }
    .frame-btn.gold-frame::before { border: 4px solid #C9A227; background: #D4AF37; box-shadow: 0 0 5px rgba(201, 162, 39, 0.5); }
    .frame-btn.white-frame::before { border: 4px solid #f8f8f8; background: #fff; }
    .frame-btn.silver-frame::before { border: 4px solid #c0c0c0; background: #d0d0d0; }

    /* AR Button */
    .custom-ar-button {
      position: absolute;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #803cb4 0%, #6a2c9a 100%);
      color: white;
      border: none;
      padding: 10px 24px;
      border-radius: 25px;
      font-weight: 600;
      font-size: 0.875rem;
      cursor: pointer;
      z-index: 4;
      transition: all 0.3s ease;
      white-space: nowrap;
    }

    .custom-ar-button:hover {
      transform: translateX(-50%) translateY(-2px);
      box-shadow: 0 4px 15px rgba(128, 60, 180, 0.4);
    }

    .custom-ar-button.pulse {
      animation: arPulse 2s ease-in-out infinite;
    }

    @keyframes arPulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(128, 60, 180, 0.4); }
      50% { box-shadow: 0 0 0 8px rgba(128, 60, 180, 0); }
    }

    .custom-ar-button.desktop-mode {
      position: relative;
    }

    .ar-desktop-tooltip {
      display: none;
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 12px;
      white-space: nowrap;
    }

    .custom-ar-button.desktop-mode:hover .ar-desktop-tooltip {
      display: block;
    }

    /* AR Badge */
    .ar-badge {
      display: inline-block;
      background: linear-gradient(135deg, #803cb4, #6a2c9a);
      color: white;
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    /* Artwork Info */
    .artwork-info {
      padding: 1.25rem;
      flex: 1;
    }

    .artwork-info h3 {
      font-size: 1.25rem;
      margin: 0 0 0.5rem;
      color: #1a1a1a;
    }

    .artwork-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.875rem;
      color: #666;
      margin-top: 0.5rem;
    }

    /* Bid Button */
    .artwork-actions {
      padding: 0 1.25rem 1.25rem;
    }

    .btn-bid {
      display: block;
      width: 100%;
      padding: 0.75rem;
      background: linear-gradient(135deg, #803cb4 0%, #6a2c9a 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      text-align: center;
      text-decoration: none;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .btn-bid:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(128, 60, 180, 0.3);
      color: #fff;
    }

    /* CTA Section */
    .charity-cta {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      color: #fff;
      padding: 4rem 2rem;
      text-align: center;
    }

    .charity-cta h2 {
      font-size: 2rem;
      margin: 0 0 1rem;
    }

    .charity-cta p {
      opacity: 0.8;
      margin: 0 0 2rem;
      font-size: 1.05rem;
    }

    .cta-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .cta-buttons a {
      display: inline-block;
      padding: 0.875rem 2rem;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .cta-buttons a:hover {
      transform: translateY(-2px);
    }

    .cta-buttons .btn-primary {
      background: linear-gradient(135deg, #803cb4 0%, #6a2c9a 100%);
      color: #fff;
    }

    .cta-buttons .btn-primary:hover {
      box-shadow: 0 6px 20px rgba(128, 60, 180, 0.4);
    }

    .cta-buttons .btn-outline {
      background: transparent;
      color: #fff;
      border: 2px solid rgba(255, 255, 255, 0.4);
    }

    .cta-buttons .btn-outline:hover {
      border-color: #fff;
      box-shadow: 0 6px 20px rgba(255, 255, 255, 0.1);
    }

    /* Hosted by line */
    .hosted-by {
      font-size: 0.8rem;
      opacity: 0.5;
      margin-top: 1rem;
    }

    .hosted-by a {
      color: inherit;
      text-decoration: none;
      opacity: 0.8;
    }

    .hosted-by a:hover {
      opacity: 1;
      text-decoration: underline;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .charity-hero {
        padding: 5rem 1.5rem 3rem;
      }

      .charity-hero-logo-bg {
        width: 400px;
        height: 400px;
      }

      .charity-hero h1 {
        font-size: 2rem;
      }

      .charity-hero .subtitle {
        font-size: 1rem;
      }

      .artwork-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .artwork-card-wrapper model-viewer {
        height: 320px;
      }

      .frame-selector-compact {
        opacity: 1;
        pointer-events: all;
        bottom: 65px;
      }
    }

    /* ── Countdown Timer ── */
    .countdown {
      display: flex;
      gap: 1.25rem;
      justify-content: center;
      margin: 0 0 1.25rem;
    }

    .countdown-unit {
      text-align: center;
    }

    .countdown-unit .number {
      display: block;
      font-size: 1.75rem;
      font-weight: 700;
      color: #c9a227;
      line-height: 1;
    }

    .countdown-unit .label {
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.5;
      margin-top: 0.25rem;
      display: block;
    }

    .countdown-ended {
      color: #c9a227;
      font-weight: 600;
      font-size: 1.1rem;
      margin: 0 0 1.25rem;
    }

    /* ── Share Buttons ── */
    .share-row {
      display: flex;
      gap: 0.75rem;
      justify-content: center;
      margin-top: 1.5rem;
    }

    .share-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 500;
      text-decoration: none;
      transition: transform 0.2s, opacity 0.2s;
      cursor: pointer;
      border: none;
    }

    .share-btn:hover {
      transform: translateY(-1px);
      opacity: 0.9;
    }

    .share-btn svg {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }

    .share-btn.copy-link {
      background: rgba(255, 255, 255, 0.12);
      color: #fff;
    }

    .share-btn.facebook {
      background: #1877F2;
      color: #fff;
    }

    .share-btn.twitter {
      background: #000;
      color: #fff;
    }

    .share-btn.copy-link.copied {
      background: rgba(34, 197, 94, 0.25);
      color: #22c55e;
    }

    /* ── Collection Story ── */
    .collection-story {
      max-width: 760px;
      margin: 0 auto;
      padding: 3.5rem 2rem;
      text-align: center;
    }

    .collection-story h2 {
      font-size: 1.75rem;
      font-weight: 300;
      color: #1a1a1a;
      margin-bottom: 1rem;
    }

    .collection-story p {
      color: #4b5563;
      line-height: 1.8;
      font-size: 1rem;
      margin-bottom: 1rem;
    }

    .collection-story p:last-child {
      margin-bottom: 0;
    }

    /* ── Artist Spotlight ── */
    .artist-spotlight {
      background: #f9f9f9;
      padding: 4rem 2rem;
    }

    .artist-spotlight-inner {
      max-width: 900px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 200px 1fr;
      gap: 2.5rem;
      align-items: start;
    }

    .artist-photo {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      overflow: hidden;
      background: #e5e5e5;
      flex-shrink: 0;
    }

    .artist-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .artist-photo-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3.5rem;
      color: #999;
      background: linear-gradient(135deg, #e8e8e8 0%, #d4d4d4 100%);
    }

    .artist-bio h2 {
      font-size: 1.75rem;
      font-weight: 300;
      color: #1a1a1a;
      margin-bottom: 0.25rem;
    }

    .artist-bio .artist-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: #803cb4;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .artist-bio p {
      color: #4b5563;
      line-height: 1.8;
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
    }

    .artist-links {
      margin-top: 1rem;
      display: flex;
      gap: 1rem;
    }

    .artist-links a {
      color: #803cb4;
      text-decoration: none;
      font-size: 0.85rem;
      font-weight: 500;
    }

    .artist-links a:hover {
      text-decoration: underline;
    }

    /* ── Son of a Saint Impact ── */
    .cause-section {
      background: #0f0f13;
      color: #fff;
      padding: 4rem 2rem;
    }

    .cause-inner {
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
    }

    .cause-inner h2 {
      font-size: 1.75rem;
      font-weight: 300;
      margin-bottom: 0.5rem;
    }

    .cause-inner .cause-tagline {
      color: #c9a227;
      font-size: 0.95rem;
      margin-bottom: 2rem;
    }

    .cause-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      margin-bottom: 2.5rem;
    }

    .cause-stat .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: #c9a227;
      line-height: 1;
    }

    .cause-stat .stat-desc {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      opacity: 0.6;
      margin-top: 0.5rem;
    }

    .cause-text {
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.8;
      font-size: 0.95rem;
      max-width: 650px;
      margin: 0 auto 2rem;
    }

    .cause-link {
      display: inline-block;
      padding: 0.75rem 2rem;
      border: 1px solid rgba(201, 162, 39, 0.4);
      color: #c9a227;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 500;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    .cause-link:hover {
      background: rgba(201, 162, 39, 0.1);
      border-color: #c9a227;
    }

    /* ── Responsive additions ── */
    @media (max-width: 768px) {
      .artist-spotlight-inner {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .artist-photo {
        margin: 0 auto;
        width: 160px;
        height: 160px;
      }

      .artist-links {
        justify-content: center;
      }

      .cause-stats {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .countdown .number {
        font-size: 1.4rem;
      }

      .share-row {
        flex-wrap: wrap;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .charity-hero-logo-bg img {
        animation: none !important;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="public-nav">
    <a href="/" class="logo">
      <img src="https://media.hivemindar.com/images/common/mini_hivemind_logo_white.png" alt="HiveMind AR">
    </a>
    <div class="nav-links" id="navLinks">
      <a href="https://www.32auctions.com/organizations/135580/auctions/194605" target="_blank" rel="noopener" onclick="trackEvent('bid_click', 'nav_auction')">View Auction</a>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="charity-hero">
    <div class="charity-hero-logo-bg">
      <img src="/images/brand/HMC_Logo_AR.png" alt="">
    </div>
    <div class="charity-hero-content">
    <h1>Queen Freret XIV</h1>
    <p class="subtitle">A Collection by Shannon E Thomas</p>
    <p class="charity-line">8 Original Paintings Benefiting Son of a Saint</p>
    <div id="auctionCountdown" class="countdown" aria-label="Auction countdown"></div>
    <p class="hero-ar-note">View each painting in augmented reality — see it on your wall, at true scale, directly from your phone. No app required.</p>
    <a href="https://www.32auctions.com/organizations/135580/auctions/194605" target="_blank" rel="noopener" class="btn-auction" onclick="trackEvent('bid_click', 'auction_main')">View Full Auction</a>
    <div class="share-row">
      <button class="share-btn copy-link" onclick="copyGalleryLink(this)">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
        Copy Link
      </button>
      <a class="share-btn facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://hivemind-ar.vercel.app/charity/shannon-thomas/" target="_blank" rel="noopener" onclick="trackEvent('share', 'facebook')">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
        Facebook
      </a>
      <a class="share-btn twitter" href="https://twitter.com/intent/tweet?text=Queen%20Freret%20XIV%20%E2%80%94%208%20original%20paintings%20by%20Shannon%20E%20Thomas%20benefiting%20Son%20of%20a%20Saint.%20View%20in%20AR%20and%20place%20your%20bid.&url=https://hivemind-ar.vercel.app/charity/shannon-thomas/" target="_blank" rel="noopener" onclick="trackEvent('share', 'twitter')">
        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        Share
      </a>
    </div>
    </div>
  </section>

  <!-- Collection Story -->
  <section class="collection-story">
    <h2>About the Collection</h2>
    <p>Queen Freret XIV is a series of eight original paintings by New Orleans artist Shannon E Thomas, created to celebrate the spirit of Freret Street and its culture of creativity, resilience, and community. Each piece carries the name of a character drawn from that world — Clair, Fleur, Koda, Lane, Lilac, Revel, Roux, and Vesper.</p>
    <p>All eight paintings are hand-painted on canvas at 28" x 38" and are being auctioned to benefit <strong>Son of a Saint</strong>, a nonprofit dedicated to mentoring fatherless boys in New Orleans. Every bid goes directly to that mission.</p>
  </section>

  <!-- Artwork Grid -->
  <div class="gallery-container">
    <div class="artwork-grid" id="artworkGrid">

      <!-- Clair -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Clair" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/clair.glb"
            poster="/images/charity/shannon-thomas/clair.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/clair.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'clair', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'clair', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'clair', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'clair', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'clair', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'clair', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Clair</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691651" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Clair')">Place a Bid</a>
        </div>
      </div>

      <!-- Fleur -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Fleur" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/fleur.glb"
            poster="/images/charity/shannon-thomas/fleur.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/fleur.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'fleur', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'fleur', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'fleur', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'fleur', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'fleur', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'fleur', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Fleur</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691644" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Fleur')">Place a Bid</a>
        </div>
      </div>

      <!-- Koda -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Koda" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/koda.glb"
            poster="/images/charity/shannon-thomas/koda.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/koda.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'koda', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'koda', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'koda', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'koda', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'koda', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'koda', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Koda</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691641" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Koda')">Place a Bid</a>
        </div>
      </div>

      <!-- Lane -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Lane" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/lane.glb"
            poster="/images/charity/shannon-thomas/lane.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/lane.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'lane', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'lane', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'lane', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'lane', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'lane', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'lane', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Lane</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691650" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Lane')">Place a Bid</a>
        </div>
      </div>

      <!-- Lilac -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Lilac" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/lilac.glb"
            poster="/images/charity/shannon-thomas/lilac.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/lilac.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'lilac', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'lilac', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'lilac', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'lilac', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'lilac', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'lilac', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Lilac</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691643" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Lilac')">Place a Bid</a>
        </div>
      </div>

      <!-- Revel -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Revel" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/revel.glb"
            poster="/images/charity/shannon-thomas/revel.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/revel.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'revel', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'revel', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'revel', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'revel', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'revel', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'revel', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Revel</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691647" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Revel')">Place a Bid</a>
        </div>
      </div>

      <!-- Roux -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Roux" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/roux.glb"
            poster="/images/charity/shannon-thomas/roux.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/roux.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'roux', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'roux', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'roux', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'roux', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'roux', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'roux', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Roux</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691648" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Roux')">Place a Bid</a>
        </div>
      </div>

      <!-- Vesper -->
      <div class="artwork-card">
        <div class="artwork-card-wrapper" data-artwork-name="Vesper" data-width-inches="28" data-height-inches="38">
          <model-viewer
            src="/models/charity/vesper.glb"
            poster="/images/charity/shannon-thomas/vesper.jpg"
            ar
            ar-modes="webxr scene-viewer quick-look"
            ar-scale="fixed"
            camera-controls
            touch-action="pan-y"
            shadow-intensity="0.3"
            exposure="1.1"
            loading="lazy"
            data-base-glb="/models/charity/vesper.glb">
          </model-viewer>
          <div class="frame-selector-compact">
            <button class="frame-btn no-frame selected" data-frame="none" onclick="selectFrameCompact(this, 'vesper', 'none')" title="No Frame"></button>
            <button class="frame-btn wood-frame" data-frame="wood" onclick="selectFrameCompact(this, 'vesper', 'wood')" title="Wood Frame">Wood</button>
            <button class="frame-btn black-frame" data-frame="black" onclick="selectFrameCompact(this, 'vesper', 'black')" title="Black Frame">Black</button>
            <button class="frame-btn gold-frame" data-frame="gold" onclick="selectFrameCompact(this, 'vesper', 'gold')" title="Gold Frame">Gold</button>
            <button class="frame-btn white-frame" data-frame="white" onclick="selectFrameCompact(this, 'vesper', 'white')" title="White Frame">White</button>
            <button class="frame-btn silver-frame" data-frame="silver" onclick="selectFrameCompact(this, 'vesper', 'silver')" title="Silver Frame">Silver</button>
          </div>
          <button class="custom-ar-button pulse" onclick="activateAR(this)">View in AR</button>
        </div>
        <div class="artwork-info">
          <span class="ar-badge">AR Ready</span>
          <h3>Vesper</h3>
          <div class="artwork-meta">
            <span>Hand-painted on canvas</span>
            <span>28" x 38"</span>
          </div>
        </div>
        <div class="artwork-actions">
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605/auction_items/6691649" target="_blank" rel="noopener" class="btn-bid" onclick="trackEvent('bid_click', 'Vesper')">Place a Bid</a>
        </div>
      </div>

    </div>
  </div>

  <!-- Artist Spotlight -->
  <section class="artist-spotlight">
    <div class="artist-spotlight-inner">
      <div class="artist-photo">
        <div class="artist-photo-placeholder">ST</div>
      </div>
      <div class="artist-bio">
        <h2>Shannon E Thomas</h2>
        <p class="artist-label">New Orleans Artist</p>
        <p>Shannon E Thomas is a New Orleans-based visual artist whose work draws on the city's deep well of culture, music, and street life. Her paintings blend bold color with intimate detail, capturing characters and moments that feel both mythic and grounded.</p>
        <p>The Queen Freret XIV collection is her latest body of work — eight paintings created specifically for this charity auction, each one a tribute to the creative spirit of the Freret Street corridor.</p>
        <div class="artist-links">
          <!-- Replace # with real links when available -->
          <a href="https://www.32auctions.com/organizations/135580/auctions/194605" target="_blank" rel="noopener">View Auction Profile</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Son of a Saint Impact -->
  <section class="cause-section">
    <div class="cause-inner">
      <h2>Son of a Saint</h2>
      <p class="cause-tagline">Mentoring fatherless boys in New Orleans since 2011</p>
      <div class="cause-stats">
        <div class="cause-stat">
          <div class="stat-number">700+</div>
          <div class="stat-desc">Boys served annually</div>
        </div>
        <div class="cause-stat">
          <div class="stat-number">14</div>
          <div class="stat-desc">Years of impact</div>
        </div>
        <div class="cause-stat">
          <div class="stat-number">100%</div>
          <div class="stat-desc">Of auction proceeds donated</div>
        </div>
      </div>
      <p class="cause-text">Founded by Bivian "Sonny" Lee III in honor of his late father — a former New Orleans Saints defensive back — Son of a Saint provides mentorship, educational support, and life-skills development to young men growing up without fathers. Every bid on these paintings goes directly to that work.</p>
      <a href="https://sonofasaint.org" target="_blank" rel="noopener" class="cause-link" onclick="trackEvent('bid_click', 'sonofasaint')">Learn More at sonofasaint.org</a>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="charity-cta">
    <h2>Place Your Bid</h2>
    <p>Support a great cause and own an original painting by Shannon E Thomas.</p>
    <div class="cta-buttons">
      <a href="https://www.32auctions.com/organizations/135580/auctions/194605" target="_blank" rel="noopener" class="btn-primary" onclick="trackEvent('bid_click', 'cta_auction')">View Full Auction</a>
      <a href="https://sonofasaint.org" target="_blank" rel="noopener" class="btn-outline">Learn About Son of a Saint</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="public-footer">
    <p class="copyright">&copy; 2026 HiveMind AR.</p>
    <p class="hosted-by">Gallery hosted by <a href="/">HiveMind AR</a></p>
  </footer>

  <!-- Scripts -->
  <script type="module">
    import { supabase } from '/src/supabase.js';

    // ==========================================
    // Analytics Tracking
    // ==========================================

    // Visitor fingerprint (privacy-friendly, no PII)
    function getVisitorFingerprint() {
      let fp = localStorage.getItem('hm_charity_fp');
      if (!fp) {
        const raw = navigator.userAgent + screen.width + 'x' + screen.height + Intl.DateTimeFormat().resolvedOptions().timeZone;
        let hash = 0;
        for (let i = 0; i < raw.length; i++) {
          const char = raw.charCodeAt(i);
          hash = ((hash << 5) - hash) + char;
          hash |= 0;
        }
        fp = 'cf_' + Math.abs(hash).toString(36);
        localStorage.setItem('hm_charity_fp', fp);
      }
      return fp;
    }

    // Device type detection
    function getDeviceType() {
      const ua = navigator.userAgent;
      if (/tablet|ipad|playbook|silk/i.test(ua)) return 'tablet';
      if (/mobile|iphone|ipod|android|blackberry|opera mini|iemobile/i.test(ua)) return 'mobile';
      return 'desktop';
    }

    // Browser detection
    function getBrowser() {
      const ua = navigator.userAgent;
      if (ua.includes('Firefox/')) return 'Firefox';
      if (ua.includes('Edg/')) return 'Edge';
      if (ua.includes('Chrome/')) return 'Chrome';
      if (ua.includes('Safari/')) return 'Safari';
      return 'Other';
    }

    // Track analytics event
    async function trackEvent(eventType, artworkName) {
      try {
        if (!supabase) return;
        await supabase.from('charity_gallery_analytics').insert({
          gallery_id: 'shannon-thomas',
          event_type: eventType,
          artwork_name: artworkName || null,
          visitor_fingerprint: getVisitorFingerprint(),
          device_type: getDeviceType(),
          browser: getBrowser(),
          referrer: document.referrer || null
        });
      } catch (err) {
        console.log('Analytics error:', err);
      }
    }

    // Make trackEvent globally accessible for onclick handlers
    window.trackEvent = trackEvent;

    // Track page view (once per session)
    const viewedKey = 'viewed_charity_shannon_thomas';
    if (!sessionStorage.getItem(viewedKey)) {
      sessionStorage.setItem(viewedKey, 'true');
      trackEvent('page_view');
    }

    // Track artwork views via Intersection Observer
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const wrapper = entry.target.closest('.artwork-card-wrapper');
          if (wrapper && !wrapper.dataset.viewed) {
            wrapper.dataset.viewed = 'true';
            const name = wrapper.dataset.artworkName;
            trackEvent('artwork_view', name);
          }
        }
      });
    }, { threshold: 0.5 });

    document.querySelectorAll('model-viewer').forEach(mv => {
      observer.observe(mv);
    });

    // ==========================================
    // Frame Generator (from artist.html pattern)
    // ==========================================

    class SimpleFrameGenerator {
      constructor() {
        this.frameCache = {};
      }

      async addFrameToImage(imageUrl, frameStyle) {
        const cacheKey = `${imageUrl}_${frameStyle}`;
        if (this.frameCache[cacheKey]) return this.frameCache[cacheKey];

        const img = await this.loadImage(imageUrl);
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        const frameThickness = Math.min(img.width, img.height) * 0.08;

        canvas.width = img.width + (frameThickness * 2);
        canvas.height = img.height + (frameThickness * 2);

        const style = this.getFrameStyle(frameStyle);

        ctx.fillStyle = style.color;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        if (style.pattern) {
          this.addFramePattern(ctx, canvas.width, canvas.height, style);
        }

        if (style.shadow) {
          ctx.shadowColor = 'rgba(0, 0, 0, 0.5)';
          ctx.shadowBlur = frameThickness * 0.3;
          ctx.shadowOffsetX = 0;
          ctx.shadowOffsetY = 0;
        }

        ctx.drawImage(img, frameThickness, frameThickness, img.width, img.height);
        this.addBevelEffect(ctx, frameThickness, canvas.width, canvas.height, style);

        const framedUrl = canvas.toDataURL('image/png');
        this.frameCache[cacheKey] = framedUrl;
        return framedUrl;
      }

      async loadImage(url) {
        try {
          const response = await fetch(url);
          const blob = await response.blob();
          const blobUrl = URL.createObjectURL(blob);
          return new Promise((resolve, reject) => {
            const img = new Image();
            img.onload = () => { URL.revokeObjectURL(blobUrl); resolve(img); };
            img.onerror = () => { URL.revokeObjectURL(blobUrl); reject(new Error('Load failed')); };
            img.src = blobUrl;
          });
        } catch {
          return new Promise((resolve, reject) => {
            const img = new Image();
            img.crossOrigin = 'anonymous';
            img.onload = () => resolve(img);
            img.onerror = () => reject(new Error('Load failed'));
            img.src = url;
          });
        }
      }

      getFrameStyle(style) {
        const styles = {
          wood: { color: '#8B4513', pattern: 'wood', shadow: true },
          black: { color: '#1a1a1a', pattern: null, shadow: true },
          gold: { color: '#C9A227', pattern: 'metallic', shadow: true },
          white: { color: '#f8f8f8', pattern: null, shadow: true },
          silver: { color: '#c0c0c0', pattern: 'metallic', shadow: true }
        };
        return styles[style] || { color: '#808080', pattern: null, shadow: false };
      }

      addFramePattern(ctx, width, height, style) {
        if (style.pattern === 'wood') {
          ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
          ctx.lineWidth = 2;
          for (let i = 0; i < width; i += 20) {
            ctx.beginPath();
            ctx.moveTo(i, 0);
            ctx.lineTo(i + Math.random() * 10, height);
            ctx.stroke();
          }
        } else if (style.pattern === 'metallic') {
          const gradient = ctx.createLinearGradient(0, 0, width, height);
          gradient.addColorStop(0, 'rgba(255, 255, 255, 0.2)');
          gradient.addColorStop(0.5, 'rgba(255, 255, 255, 0)');
          gradient.addColorStop(1, 'rgba(255, 255, 255, 0.1)');
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, width, height);
        }
      }

      addBevelEffect(ctx, frameThickness, width, height) {
        const bevelSize = frameThickness * 0.2;
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
        ctx.lineWidth = bevelSize;
        ctx.strokeRect(bevelSize / 2, bevelSize / 2, width - bevelSize, height - bevelSize);
        ctx.strokeStyle = 'rgba(0, 0, 0, 0.3)';
        ctx.lineWidth = bevelSize;
        ctx.strokeRect(
          frameThickness - bevelSize / 2,
          frameThickness - bevelSize / 2,
          width - frameThickness * 2 + bevelSize,
          height - frameThickness * 2 + bevelSize
        );
      }

      async generateGLBFromImage(framedImageDataUrl, widthInches, heightInches) {
        const widthMeters = widthInches * 0.0254;
        const heightMeters = heightInches * 0.0254;

        const imageBase64 = framedImageDataUrl.split(',')[1];
        const imageBytes = atob(imageBase64);
        const imageBuffer = new Uint8Array(imageBytes.length);
        for (let i = 0; i < imageBytes.length; i++) {
          imageBuffer[i] = imageBytes.charCodeAt(i);
        }

        const positions = new Float32Array([
          -widthMeters/2, -heightMeters/2, 0,
          widthMeters/2, -heightMeters/2, 0,
          widthMeters/2, heightMeters/2, 0,
          -widthMeters/2, heightMeters/2, 0
        ]);
        const normals = new Float32Array([0,0,1, 0,0,1, 0,0,1, 0,0,1]);
        const texCoords = new Float32Array([0,1, 1,1, 1,0, 0,0]);
        const indices = new Uint16Array([0,1,2, 0,2,3]);

        const positionsBytes = new Uint8Array(positions.buffer);
        const normalsBytes = new Uint8Array(normals.buffer);
        const texCoordsBytes = new Uint8Array(texCoords.buffer);
        const indicesBytes = new Uint8Array(indices.buffer);

        let offset = 0;
        const positionsOffset = offset;
        offset += positionsBytes.length;
        while (offset % 4 !== 0) offset++;
        const normalsOffset = offset;
        offset += normalsBytes.length;
        while (offset % 4 !== 0) offset++;
        const texCoordsOffset = offset;
        offset += texCoordsBytes.length;
        while (offset % 4 !== 0) offset++;
        const indicesOffset = offset;
        offset += indicesBytes.length;
        while (offset % 4 !== 0) offset++;
        const imageOffset = offset;
        const totalBufferSize = imageOffset + imageBuffer.length;

        const combinedBuffer = new Uint8Array(totalBufferSize);
        combinedBuffer.set(positionsBytes, positionsOffset);
        combinedBuffer.set(normalsBytes, normalsOffset);
        combinedBuffer.set(texCoordsBytes, texCoordsOffset);
        combinedBuffer.set(indicesBytes, indicesOffset);
        combinedBuffer.set(imageBuffer, imageOffset);

        const gltf = {
          asset: { version: "2.0" },
          scene: 0,
          scenes: [{ nodes: [0] }],
          nodes: [{ mesh: 0 }],
          meshes: [{ primitives: [{ attributes: { POSITION: 0, NORMAL: 1, TEXCOORD_0: 2 }, indices: 3, material: 0 }] }],
          materials: [{ pbrMetallicRoughness: { baseColorTexture: { index: 0 }, metallicFactor: 0, roughnessFactor: 1 }, doubleSided: true }],
          textures: [{ source: 0 }],
          images: [{ mimeType: "image/png", bufferView: 4 }],
          accessors: [
            { bufferView: 0, componentType: 5126, count: 4, type: "VEC3", max: [widthMeters/2, heightMeters/2, 0], min: [-widthMeters/2, -heightMeters/2, 0] },
            { bufferView: 1, componentType: 5126, count: 4, type: "VEC3" },
            { bufferView: 2, componentType: 5126, count: 4, type: "VEC2" },
            { bufferView: 3, componentType: 5123, count: 6, type: "SCALAR" }
          ],
          bufferViews: [
            { buffer: 0, byteOffset: positionsOffset, byteLength: positionsBytes.length },
            { buffer: 0, byteOffset: normalsOffset, byteLength: normalsBytes.length },
            { buffer: 0, byteOffset: texCoordsOffset, byteLength: texCoordsBytes.length },
            { buffer: 0, byteOffset: indicesOffset, byteLength: indicesBytes.length },
            { buffer: 0, byteOffset: imageOffset, byteLength: imageBuffer.length }
          ],
          buffers: [{ byteLength: totalBufferSize }]
        };

        const gltfJson = JSON.stringify(gltf);
        const gltfJsonBytes = new TextEncoder().encode(gltfJson);
        const gltfJsonPadded = new Uint8Array(Math.ceil(gltfJsonBytes.length / 4) * 4);
        gltfJsonPadded.set(gltfJsonBytes);
        for (let i = gltfJsonBytes.length; i < gltfJsonPadded.length; i++) {
          gltfJsonPadded[i] = 0x20;
        }

        const headerSize = 12;
        const jsonChunkHeader = 8;
        const binChunkHeader = 8;
        const totalSize = headerSize + jsonChunkHeader + gltfJsonPadded.length + binChunkHeader + combinedBuffer.length;

        const glb = new Uint8Array(totalSize);
        const view = new DataView(glb.buffer);
        view.setUint32(0, 0x46546C67, true);
        view.setUint32(4, 2, true);
        view.setUint32(8, totalSize, true);

        let off2 = 12;
        view.setUint32(off2, gltfJsonPadded.length, true);
        view.setUint32(off2 + 4, 0x4E4F534A, true);
        glb.set(gltfJsonPadded, off2 + 8);

        off2 += 8 + gltfJsonPadded.length;
        view.setUint32(off2, combinedBuffer.length, true);
        view.setUint32(off2 + 4, 0x004E4942, true);
        glb.set(combinedBuffer, off2 + 8);

        const blob = new Blob([glb], { type: 'model/gltf-binary' });
        return URL.createObjectURL(blob);
      }
    }

    const frameGenerator = new SimpleFrameGenerator();
    window.frameGenerator = frameGenerator;

    // Frame selection state
    const artworkFrameSelections = {};
    const originalPosters = {};
    const originalGLBs = {};
    const framedGLBs = {};

    // ==========================================
    // Frame Selector Logic
    // ==========================================

    window.selectFrameCompact = async function(button, artworkId, frameType) {
      const wrapper = button.closest('.artwork-card-wrapper');
      wrapper.querySelectorAll('.frame-btn').forEach(btn => btn.classList.remove('selected'));
      button.classList.add('selected');
      artworkFrameSelections[artworkId] = frameType;

      const modelViewer = wrapper.querySelector('model-viewer');

      if (!originalPosters[artworkId]) {
        originalPosters[artworkId] = modelViewer.getAttribute('poster');
      }
      if (!originalGLBs[artworkId]) {
        originalGLBs[artworkId] = modelViewer.getAttribute('src');
      }

      if (frameType === 'none') {
        modelViewer.setAttribute('poster', originalPosters[artworkId]);
        modelViewer.setAttribute('src', originalGLBs[artworkId]);
      } else {
        try {
          button.style.opacity = '0.5';
          const imageSource = originalPosters[artworkId];
          const framedImageUrl = await window.frameGenerator.addFrameToImage(imageSource, frameType);
          modelViewer.setAttribute('poster', framedImageUrl);

          const widthInches = parseFloat(wrapper.getAttribute('data-width-inches')) || 28;
          const heightInches = parseFloat(wrapper.getAttribute('data-height-inches')) || 38;

          const cacheKey = `${artworkId}_${frameType}`;
          if (!framedGLBs[cacheKey]) {
            framedGLBs[cacheKey] = await window.frameGenerator.generateGLBFromImage(framedImageUrl, widthInches, heightInches);
          }
          modelViewer.setAttribute('src', framedGLBs[cacheKey]);
          button.style.opacity = '1';

          const notification = document.createElement('div');
          notification.textContent = `${frameType.charAt(0).toUpperCase() + frameType.slice(1)} frame applied!`;
          notification.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(128, 60, 180, 0.95); color: white; padding: 12px 24px; border-radius: 8px; z-index: 10000; font-size: 14px;';
          document.body.appendChild(notification);
          setTimeout(() => notification.remove(), 2000);
        } catch (err) {
          console.error('Frame generation failed:', err);
          button.style.opacity = '1';
          artworkFrameSelections[artworkId] = 'none';
          button.classList.remove('selected');
          wrapper.querySelector('.frame-btn.no-frame').classList.add('selected');
          modelViewer.setAttribute('poster', originalPosters[artworkId]);
          modelViewer.setAttribute('src', originalGLBs[artworkId]);
        }
      }

      event?.stopPropagation();
      return false;
    };

    // ==========================================
    // AR Activation
    // ==========================================

    function isMobileDevice() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
             (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    }

    function isInAppBrowser() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      return /FBAN|FBAV|Instagram|Twitter|LinkedInApp|Snapchat|Line\//i.test(ua);
    }

    function showInAppBrowserBanner() {
      if (!isInAppBrowser()) return;
      const banner = document.createElement('div');
      banner.innerHTML = `
        <div style="position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(135deg, #803cb4 0%, #6a2c9a 100%); color: white; padding: 16px 20px; z-index: 10000; text-align: center; font-size: 14px; box-shadow: 0 -4px 20px rgba(0,0,0,0.2);">
          <div style="margin-bottom: 10px;"><strong>AR works best in Safari</strong></div>
          <div style="margin-bottom: 12px; opacity: 0.9;">Tap below to open this gallery in Safari for the full AR experience</div>
          <button onclick="openInSafari()" style="background: white; color: #803cb4; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-right: 10px;">Open in Safari</button>
          <button onclick="this.parentElement.parentElement.remove()" style="background: transparent; color: white; border: 1px solid rgba(255,255,255,0.5); padding: 12px 24px; border-radius: 8px; cursor: pointer;">Dismiss</button>
        </div>
      `;
      document.body.appendChild(banner);
    }

    window.openInSafari = function() {
      const currentUrl = window.location.href;
      if (navigator.clipboard) {
        navigator.clipboard.writeText(currentUrl).then(() => {
          alert('Link copied!\n\nOpen Safari and paste the link to view AR.');
        }).catch(() => {
          prompt('Copy this link and paste it in Safari:', currentUrl);
        });
      } else {
        prompt('Copy this link and paste it in Safari:', currentUrl);
      }
    };

    function setupArButtons() {
      const arButtons = document.querySelectorAll('.custom-ar-button');
      const isDesktop = !isMobileDevice();
      arButtons.forEach(button => {
        if (isDesktop) {
          button.classList.add('desktop-mode');
          button.innerHTML = 'View in AR <span class="ar-desktop-tooltip">Open this page on your phone to use AR</span>';
        }
      });
    }

    window.activateAR = function(button) {
      const wrapper = button.closest('.artwork-card-wrapper');
      const modelViewer = wrapper.querySelector('model-viewer');
      const artworkName = wrapper.getAttribute('data-artwork-name');

      if (!isMobileDevice()) {
        const currentUrl = window.location.href;
        const message = `AR viewing requires a mobile device.\n\nOpen this link on your phone:\n${currentUrl}`;
        if (navigator.clipboard) {
          navigator.clipboard.writeText(currentUrl).then(() => {
            alert(message + '\n\n(Link copied to clipboard!)');
          }).catch(() => { alert(message); });
        } else {
          alert(message);
        }
        return false;
      }

      if (modelViewer && modelViewer.tagName === 'MODEL-VIEWER') {
        trackEvent('ar_view', artworkName);

        if (!modelViewer.loaded) {
          const originalText = button.textContent;
          button.textContent = 'Loading AR...';
          button.disabled = true;
          modelViewer.addEventListener('load', function onLoad() {
            modelViewer.removeEventListener('load', onLoad);
            button.textContent = originalText;
            button.disabled = false;
            try { modelViewer.activateAR(); } catch(err) {
              console.error('AR activation failed:', err);
              alert('AR activation failed. Please try again.');
            }
          }, { once: true });
          setTimeout(() => {
            if (!modelViewer.loaded) {
              button.textContent = originalText;
              button.disabled = false;
              alert('Model is taking too long to load. Please wait and try again.');
            }
          }, 15000);
          return false;
        }

        try { modelViewer.activateAR(); } catch(err) {
          console.error('AR activation failed:', err);
          alert('AR activation failed. Please try again.');
        }
        return false;
      }
    };

    // Error handler for model-viewers
    document.querySelectorAll('model-viewer').forEach(mv => {
      mv.addEventListener('error', () => {
        const wrapper = mv.closest('.artwork-card-wrapper');
        if (wrapper) {
          const arButton = wrapper.querySelector('.custom-ar-button');
          if (arButton) arButton.style.display = 'none';
          const frameSelector = wrapper.querySelector('.frame-selector-compact');
          if (frameSelector) frameSelector.style.display = 'none';
        }
        const card = mv.closest('.artwork-card');
        if (card) {
          const arBadge = card.querySelector('.ar-badge');
          if (arBadge) arBadge.style.display = 'none';
        }
      });
    });

    // ==========================================
    // Countdown Timer
    // ==========================================

    function updateCountdown() {
      const auctionEnd = new Date('2026-02-17T23:59:59-06:00');
      const now = new Date();
      const diff = auctionEnd - now;
      const container = document.getElementById('auctionCountdown');

      if (diff <= 0) {
        container.innerHTML = '<p class="countdown-ended">Auction has ended</p>';
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      container.innerHTML = `
        <div class="countdown-unit"><span class="number">${days}</span><span class="label">Days</span></div>
        <div class="countdown-unit"><span class="number">${hours}</span><span class="label">Hours</span></div>
        <div class="countdown-unit"><span class="number">${minutes}</span><span class="label">Min</span></div>
        <div class="countdown-unit"><span class="number">${seconds}</span><span class="label">Sec</span></div>
      `;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    // ==========================================
    // Share / Copy Link
    // ==========================================

    window.copyGalleryLink = function(btn) {
      const url = 'https://hivemind-ar.vercel.app/charity/shannon-thomas/';
      navigator.clipboard.writeText(url).then(() => {
        btn.classList.add('copied');
        const original = btn.innerHTML;
        btn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg> Copied!`;
        trackEvent('share', 'copy_link');
        setTimeout(() => {
          btn.classList.remove('copied');
          btn.innerHTML = original;
        }, 2000);
      }).catch(() => {
        prompt('Copy this link:', url);
      });
    };

    // Initialize
    setupArButtons();
    showInAppBrowserBanner();
  </script>

  <!-- Mobile Nav Toggle -->
  <script>
    function toggleMobileNav() {
      const navLinks = document.getElementById('navLinks');
      navLinks.classList.toggle('active');
    }
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          document.getElementById('navLinks').classList.remove('active');
        });
      });
    });
  </script>

  <!-- Cookie Consent -->
  <script src="/scripts/cookie-consent.js"></script>
</body>
</html>
